/*

 * POSTGRECR - MARC-HI CLIENT REGISTRY DATABASE SCHEMA FOR POSTGRESQL
 * VERSION: 2.0
 * AUTHOR: JUSTIN FYFE
 * DATE: JULY 12, 2012
 * FILES:
 *	POSTGRECR-DDL.SQL	- SQL CODE TO CREATE TABLES, INDECIES, VIEWS AND SEQUENCES
 *	POSTGRECR-FX.SQL	- SQL CODE TO CREATE SUPPORT PROCEDURES AND FUNCTIONS
 * DESCRIPTION:
 *	THIS FILE CREATES THE POSTGRESQL CLIENT REGISTRY STORED PROCEDURES AND FUNCTIONS
 * LICENSE:
 * 	Licensed under the Apache License, Version 2.0 (the "License");
 * 	you may not use this file except in compliance with the License.
 * 	You may obtain a copy of the License at
 *
 *     		http://www.apache.org/licenses/LICENSE-2.0
 *
 * 	Unless required by applicable law or agreed to in writing, software
 * 	distributed under the License is distributed on an "AS IS" BASIS,
 * 	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * 	See the License for the specific language governing permissions and
 * 	limitations under the License.
 */
 /*
 Cleaning Regex:

 PARM:

^:b*:i:b*IN:b{:i}.*,$

FNCTN: 

^(DECLARE|BEGIN).*\n((BEGIN.*\n)|(\t.*\n)|(^$\n))*^\END.*\n\$\$.*;
*/

-- @FUNCTION
-- GET DATABASE SCHEMA VERSION
--
-- RETURNS: THE MAJOR, MINOR AND RELEASE NUMBER OF THE DATABASE SCHEMA
DROP FUNCTION IF EXISTS GET_SCH_VER() 
;

-- @FUNCTION
-- CREATE A NEW CODE
--
-- RETURNS: THE IDENTIFIER OF THE CODE
DROP FUNCTION IF EXISTS CRT_CODE
(
VARCHAR,
VARCHAR,
VARCHAR,
BYTEA,
VARCHAR,
DECIMAL,
CHAR,
VARCHAR,
BOOLEAN
) 
;

-- @FUNCTION
-- GET A CODE
--
-- RETURNS: THE SPECIFIED CODE
DROP FUNCTION IF EXISTS GET_CODE
(
DECIMAL
) 
;

-- @FUNCTION 
-- GET CODE QUALIFIERS
--
-- RETURNS: SPECIFIED CODE QUALIFIERS
DROP FUNCTION IF EXISTS GET_CODE_QLFYS
(
DECIMAL
) 
;


-- @FUNCTION
-- CREATE A NEW NAME COMPONENT
-- 
-- RETURNS: THE ID OF THE NAME COMPONENT
DROP FUNCTION IF EXISTS CRT_NAME_CMP
(
	VARCHAR,
	DECIMAL,
	DECIMAL
) 
;

-- @FUNCTION
-- CREATE A NAME SET ASSOCIATED WITH A PERSON
DROP FUNCTION IF EXISTS CRT_PSN_NAME_SET
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- OBSOLETE NAME SET ASSOCIATED WITH A PERSON
DROP FUNCTION IF EXISTS OBSLT_PSN_NAME_SET
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET A NAME SET
--
-- RETURNS: A SET OF NAME_CMP_TBL RECORDS REPRESENTING THE SET
DROP FUNCTION IF EXISTS GET_NAME_SET
(
DECIMAL
) 
;

-- @FUNCTION
-- GET ALL NAME SETS FOR A SPECIFIC PERSON AT A SPECIFIC VERSION
DROP FUNCTION IF EXISTS GET_PSN_NAME_SETS
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- CREATE A NEW ADDRESS COMPONENT
-- 
-- RETURNS: THE ID OF THE ADDRESS COMPONENT
DROP FUNCTION IF EXISTS CRT_ADDR_CMP
(
	VARCHAR,
	DECIMAL,
	DECIMAL
) 
;

-- @FUNCTION
-- CREATE A ADDRESS SET ASSOCIATED WITH A PERSON
DROP FUNCTION IF EXISTS CRT_PSN_ADDR_SET
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- OBSOLETE ADDRESS SET ASSOCIATED WITH A PERSON
DROP FUNCTION IF EXISTS OBSLT_PSN_ADDR_SET
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET THE CONTENTS OF AN ADDRESS SET
DROP FUNCTION IF EXISTS GET_ADDR_SET
(
DECIMAL
) 
;

-- @FUNCTION
-- GET ALL ADDRESS SETS FOR A SPECIFIC PERSON AT A SPECIFIC VERSION
DROP FUNCTION IF EXISTS GET_PSN_ADDR_SETS
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- CREATE A NEW TIMESTAMP 
--
-- RETURNS: THE ID OF THE TIMESTAMP RECORD
DROP FUNCTION IF EXISTS CRT_TS
(
	TIMESTAMPTZ,
	CHAR,
	CHAR,
	DECIMAL
) 
;

-- @FUNCTION
-- GET A TIMESTAMP AS A SET
DROP FUNCTION IF EXISTS GET_TS_SET
(
DECIMAL
) 
;

-- @REGION
-- CLIENT FUNCTIONS

-- @PROCEDURE
-- CREATE AN ALTERNATIVE IDENTIFIER FOR THE CLIENT
DROP FUNCTION IF EXISTS CRT_PSN_ALT_ID
(
DECIMAL,
DECIMAL,
BOOLEAN,
BOOLEAN,
DECIMAL,
VARCHAR,
VARCHAR,
VARCHAR
) ;

-- @FUNCTION
-- OBSOLETE ALTERNATE ID ASSOCIATED WITH A PERSON
DROP FUNCTION IF EXISTS OBSLT_PSN_ALT_ID
(
DECIMAL,
DECIMAL,
VARCHAR,
VARCHAR
) 
;

-- @FUNCTION
-- GET ALTERNATE IDENTIFIERS 
DROP FUNCTION IF EXISTS GET_PSN_ALT_ID
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- CREATE CLIENT TELECOM DATA
DROP FUNCTION IF EXISTS CRT_PSN_TEL
(
DECIMAL,
DECIMAL,
VARCHAR,
VARCHAR,
VARCHAR
) 
;

-- @FUNCTION
-- OBSOLETE ADDRESS SET ASSOCIATED WITH A PERSON
DROP FUNCTION IF EXISTS OBSLT_PSN_TEL
(
DECIMAL,
VARCHAR,
DECIMAL
) 
;

-- @FUNCTION
-- GET TELECOM DATA
DROP FUNCTION IF EXISTS GET_PSN_TELS
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET MOST CURRENT VERSION OF PERSON DATA BASED ON THE ID
--
-- RETURNS: TABLE OF DATA 
DROP FUNCTION IF EXISTS GET_PSN_CRNT_VRSN
(
DECIMAL
) 
;

-- @FUNCTION
-- GET SPECIFIC VERSION OF A PERSON
--
-- RETURNS: TABLE OF DATA 
DROP FUNCTION IF EXISTS GET_PSN_VRSN
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET HSR INFORMATION FOR A PERSON VERSION (WHICH HSR ID/VERSION ID CAUSED THE RECORD TO BE CREATED)
DROP FUNCTION IF EXISTS GET_PSN_HSR_EVT
(
DECIMAL,
DECIMAL
) 
;
-- @FUNCTION
-- GET A CLIENT BASED ON AN EXTERNAL IDENTIFIER
--
-- RETURNS: TABLE OF CLIENT DATA
DROP FUNCTION IF EXISTS GET_PSN_EXTERN
(
VARCHAR,
VARCHAR
) 
;

-- @FUNCTION
-- CREATE A NEW PERSON IN THE DATABASE
-- 
-- RETURNS: THE CRID OF THE CLIENT
DROP FUNCTION IF EXISTS CRT_PSN
(
DECIMAL,
VARCHAR,
CHAR,
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL
)
;

-- @FUNCTION
-- GET THE CURRENT PERSON VERSION
-- 
-- RETURNS: THE CURERNT VERSION ID OF THE SPECIFIED PERSON
DROP FUNCTION IF EXISTS GET_PSN_CUR_VRSN_ID
(
DECIMAL
) 
;

-- @FUNCTION
-- CREATE A VERSION OF A PERSON RECORD
DROP FUNCTION IF EXISTS CRT_PSN_VRSN
(
DECIMAL,
DECIMAL,
VARCHAR,
CHAR,
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- DELETE A PERSON
DROP FUNCTION IF EXISTS DEL_PSN
(
DECIMAL,
DECIMAL
) 
;
	
-- @PROCEDURE
-- LINK TWO CLIENTS TOGETHER
DROP FUNCTION IF EXISTS CRT_PSN_RLTNSHP
(
DECIMAL,
DECIMAL,
VARCHAR,
VARCHAR
) 
;

--@FUNCTION
-- GET PERSONAL RELATIONSHIP BY PERSONAL RELATIONSHIP IDENTIFIER
DROP FUNCTION IF EXISTS GET_PSN_RLTNSHPS
(
DECIMAL,
DECIMAL
) 
;

--@FUNCTION
-- GET PERSONAL RELATIONSHIP BBY THE PARTICIPATING PARTIES
DROP FUNCTION IF EXISTS GET_PSN_RLTNSHP
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION 
-- OBSOLETE A RELATIONSHIP
DROP FUNCTION IF EXISTS OBSLT_PSN_RLTNSHP
(
DECIMAL,
DECIMAL,
DECIMAL,
VARCHAR
) 
;

-- @PROCEDURE
-- CREATE A RACE CODE
DROP FUNCTION IF EXISTS CRT_PSN_RACE
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- CREATE A LINK BETWEEN PERSON(S)
DROP FUNCTION IF EXISTS CRT_PSN_LNK
(
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL,
BOOLEAN
) 
;


--@FUNCTION
-- GET PERSON RACES
DROP FUNCTION IF EXISTS GET_PSN_RACES
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET PERSON REGISTRATION EVENT
DROP FUNCTION IF EXISTS GET_PSN_REG_EVT
(
DECIMAL[]
) 
;
-- @FUNCTION 
-- OBSOLETE A PERSON RACE
DROP FUNCTION IF EXISTS OBSLT_PSN_RACE
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @PROCEDURE
-- CREATE A LANGUAGE CODE
DROP FUNCTION IF EXISTS CRT_PSN_LANG
(
DECIMAL,
DECIMAL,
VARCHAR,
DECIMAL
) 
;

--@FUNCTION
-- GET PERSONS LANGUAGE
DROP FUNCTION IF EXISTS GET_PSN_LANGS
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION 
-- OBSOLETE A RELATIONSHIP
DROP FUNCTION IF EXISTS OBSLT_PSN_LANG
(
DECIMAL,
DECIMAL,
VARCHAR,
DECIMAL
) 
;


-- @PROCEDURE
-- CREATE AN EMPLOYMENT RECORD
DROP FUNCTION IF EXISTS CRT_PSN_EMPL
(
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL,
VARCHAR
) 
;

--@FUNCTION
-- GET PERSONS CITIZENSHIPS
DROP FUNCTION IF EXISTS GET_PSN_EMPLS
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION 
-- OBSOLETE A CITIZENSHIP
-- REMARKS : PSN_ID_IN IS KEPT TO KEEP CONSISTENCY ON OBSLT FUNCTION CALLS
DROP FUNCTION IF EXISTS OBSLT_PSN_EMPL
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @PROCEDURE
-- CREATE A CITIZENSHIP
DROP FUNCTION IF EXISTS CRT_PSN_CTZNSHP
(
DECIMAL,
DECIMAL,
CHAR,
VARCHAR,
DECIMAL,
VARCHAR
) 
;

--@FUNCTION
-- GET PERSONS CITIZENSHIPS
DROP FUNCTION IF EXISTS GET_PSN_CTZNSHPS
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION 
-- OBSOLETE A CITIZENSHIP
DROP FUNCTION IF EXISTS OBSLT_PSN_CTZNSHP
(
DECIMAL,
DECIMAL,
CHAR
) 
;
-- END CLIENT FUNCTIONS
-- @ENDREGION

-- @REGION
-- HEALTHCARE PARTICIPANT FUNCTIONS

-- @FUNCTION
-- CREATE A HEALTHCARE PARTICIPANT ORGANIZATION
-- 
-- RETURNS: THE ID OF THE HEALTHCARE PARTICIPANT
DROP FUNCTION IF EXISTS CRT_HC_PTCPT_ORG
(
VARCHAR,
DECIMAL,
VARCHAR,
DECIMAL

) 
;

-- @FUNCTION
-- CREATE A HEALTHCARE PARTICIPANT PERSON
-- 
-- RETURNS: THE ID OF THE HEALTHCARE PARTICIPANT
DROP FUNCTION IF EXISTS CRT_HC_PTCPT_PSN
(
DECIMAL,
DECIMAL,
VARCHAR,
DECIMAL
) 
;

-- @PROCEDURE
-- ADD A TELECOMMUNICATIONS ADDRESS TO A CLIENT
DROP FUNCTION IF EXISTS ADD_HC_PTCPT_TEL
(
DECIMAL,
VARCHAR,
VARCHAR
) 
;

-- @FUNCTION
-- GET ALL THE TELECOMMUNICATIONS ADDRESSES FOR A PROVIDER
DROP FUNCTION IF EXISTS GET_HC_PTCPT_TEL
(
DECIMAL
) 
;

-- @PROCEDURE
-- LINKS A HEALTHCARE PARTICIPANT RECORD TO A HEALTH SERVICE RECORD
DROP FUNCTION IF EXISTS LINK_HC_PTCPT
(
DECIMAL,
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @PROCEDURE
-- LINKS A HEALTHCARE PARTICIPANT RECORD TO A HEALTH SERVICE RECORD
DROP FUNCTION IF EXISTS ADD_LINK_HC_PTCPT_ORIG_ID
(
DECIMAL,
DECIMAL,
DECIMAL,
VARCHAR,
VARCHAR,
BOOLEAN
) ;


-- @PROCEDURE
-- UNLINK A HEALTHCARE PARTICIPANT RECORD FROM A HEALTH SERVICE RECORD
DROP FUNCTION IF EXISTS UNLINK_HC_PTCPT
(
DECIMAL,
DECIMAL,
CHAR
) 
;

-- @FUNCTION
-- GET A HEALTHCARE PARTICIPANT BASED ON THE SHRID
DROP FUNCTION IF EXISTS GET_HC_PTCPT
(
DECIMAL
) 
;

-- @FUNCTION
-- GET A HEALTHCARE PARTICIPANT BASED ON AN EXTERNAL IDENTIFIER
DROP FUNCTION IF EXISTS GET_HC_PTCPT_EXTERN
(
VARCHAR,
VARCHAR
) 
;

-- @FUNCTION
-- GET ALL OF THE HEALTHCARE PARTICIPANTS LINKED TO THE CURRENT VERSION OF A HEALTH SERVICES EVENT
DROP FUNCTION IF EXISTS GET_HSR_PTCPT
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;


-- @PROCEDURE
-- CREATE AN ALTERNATIVE IDENTIFIER FOR THE CLIENT
DROP FUNCTION IF EXISTS CRT_PTCPT_ALT_ID
(
DECIMAL,
VARCHAR,
VARCHAR
) ;

-- @FUNCTION
-- GET ALL ALTERNATE IDENTIFIERS FOR A HEALTHCARE PARTICIPANT
DROP FUNCTION IF EXISTS GET_PTCPT_ALT_ID
(
DECIMAL
) 
;

-- END HEALTHCARE PARTICIPANT FUNCTIONS
-- @ENDREGION 

-- @REGION 
-- SERVICE DELIVERY LOCATION FUNCTIONS



-- @FUNCTION
-- CREATE A SERVICE DELIVERY LOCATION
-- 
-- RETURNS: THE ID OF THE SERVICE DELIVERY LOCATION
DROP FUNCTION IF EXISTS CRT_SDL
(
VARCHAR,
DECIMAL,
DECIMAL
) 
;

-- PROCEDURE
-- UPDATES A SERVICE DELIVERY LOCATION REGISTRY RECORD WITH NEW DATA
DROP FUNCTION IF EXISTS UPD_SDL
(
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @PROCEDURE
-- LINKS A SERVICE DELIVERY LOCATION RECORD TO A HEALTH SERVICE RECORD
DROP FUNCTION IF EXISTS LINK_SDL
(
DECIMAL,
DECIMAL,
DECIMAL
) ;

-- @PROCEDURE
-- UNLINK A SERVICE DELIVERY LOCATION RECORD FROM A HEALTH SERVICE RECORD
DROP FUNCTION IF EXISTS UNLINK_SDL
(
DECIMAL,
DECIMAL,
CHAR
) 
;

-- @FUNCTION
-- GET A SERVICE DELIVERY LOCATION BASED ON THE SHRID
DROP FUNCTION IF EXISTS GET_SDL
(
DECIMAL
) 
;

-- @FUNCTION
-- GET A SERVICE DELIVERY LOCATION BASED ON AN EXTERNAL IDENTIFIER
DROP FUNCTION IF EXISTS GET_SDL_EXTERN
(
VARCHAR,
VARCHAR
) 
;

-- @FUNCTION
-- GET ALL OF THE SERVICE DELIVERY LOCATIONS LINKED TO THE CURRENT VERSION OF A HEALTH SERVICES EVENT
DROP FUNCTION IF EXISTS GET_HSR_SDLS
(
DECIMAL
) 
;

-- @PROCEDURE
-- CREATE AN ALTERNATIVE IDENTIFIER FOR THE SERVICE DELIVERY LOCATION
DROP FUNCTION IF EXISTS CRT_SDL_ALT_ID
(
DECIMAL,
VARCHAR,
VARCHAR
) ;

-- @FUNCTION
-- GET SDL ALTERNATIVE IDENTIFIERS
--
-- RETURNS: SET OF SDL_ALT_ID_TBL REPRESENTING THE ALTERNATE IDENTIFIERS FOR THE SPECIFIED SDL
DROP FUNCTION IF EXISTS GET_SDL_ALT_ID
(
DECIMAL
) 
;

-- END SERVICE DELIVERY LOCATION FUNCTIONS
-- @ENDREGION

-- @FUNCTION
-- CREATE A NEW HEALTH SERVICE RECORD
--
-- PURPOSE: CREATES THE HSR RECORD AND A PRIMARY VERSION FOR THE HSR 
--
-- RETURNS: THE ID OF THE HSR RECORD VERSION
DROP FUNCTION IF EXISTS CRT_HSR
(
DECIMAL,
DECIMAL,
BOOLEAN,
DECIMAL,
VARCHAR,
TIMESTAMPTZ,
VARCHAR
);

-- @FUNCTION
-- REVOKE THE HEALTH SERVICE EVENT
-- 
-- PURPOSE: REVOKES (OR OBSOLETES) THE HEALTH SERVICE RECORD
-- 
-- RETURNS: THE NEWEST VERSION ID OF THE HEALTH SERVICE EVENT
DROP FUNCTION IF EXISTS DEL_HSR
(
DECIMAL
) 
;

-- @FUNCTION
-- GET THE CURRENT HSR VERSION
-- 
-- RETURNS: THE CURERNT VERSION ID OF THE SPECIFIED HSR_ID
DROP FUNCTION IF EXISTS GET_CUR_VRSN_ID
(
DECIMAL
) 
;

-- @FUNCTION
-- CREATE A NEW HEALTH SERVICE RECORD VERSION
-- 
-- PURPOSE: INSERTS A NEW HEALTH SERVICE RECORD VERSION INTO THE HSR_VRSN TABLE, DUPLICATES THE VERSION
--
-- RETURNS: THE IDENTIFIER OF THE NEW VERSION
DROP FUNCTION IF EXISTS CRT_HSR_VRSN
(
DECIMAL,
DECIMAL,
BOOLEAN,
DECIMAL,
VARCHAR,
TIMESTAMPTZ,
VARCHAR
) 
;

-- @FUNCTION
-- GET THE CURRENT VERSION OF AN HSR EVENT
-- 
-- RETURNS: A SET OF HSR_LTST_CRNT_VRSN_VW RECORDS REPRESENTING THE CURRENT VERSION
DROP FUNCTION IF EXISTS GET_HSR_CRNT_VRSN
(
DECIMAL
) 
;

-- @FUNCTION
-- GET ALL VERSIONS OF AN HSR EVENT
--
-- RETURNS: A SET OF HSR_VRSN_VW RECORDS REPRESENTING THE VERSIONS OF THE SPECIFIED HSR EVENT
DROP FUNCTION IF EXISTS GET_HSR_VRSN
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET A SPECIFIC VERSION OF HSR
--
-- RETURNS: A SET OF HSR_VRSN_VW RECORDS REPRESENTING THE VERSIONS OF THE SPECIFIED HSR EVENT
DROP FUNCTION IF EXISTS GET_HSR_VRSN
(
DECIMAL
) 
;


-- @PROCEDURE 
-- CREATE A COMPONENT OF LINK BETWEEN TWO HSR EVENTS
DROP FUNCTION IF EXISTS ADD_HSR_LNK
(
DECIMAL,
DECIMAL,
DECIMAL,
BOOLEAN
);


-- @REGION
-- COMPONENT FUNCTIONS

-- @PROCEDURE
-- REGISTER AN HSR COMPONENT (HELPS TO RE-CREATE THE HSR EVENT)
DROP FUNCTION IF EXISTS CRT_COMP
(
VARCHAR,
DECIMAL,
DECIMAL,
VARCHAR,
DECIMAL,
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET ALL COMPONENTS FOR A PARTICULAR HSR EVENT VERSION
--
-- RETURNS: A SET OF COMPONENTS TO BE LOADED
DROP FUNCTION IF EXISTS GET_COMPS
(
VARCHAR,
DECIMAL,
DECIMAL,
BOOLEAN
) 
;

-- @FUNCTION
-- CREATE A PERSON MASKING INDICATOR
--
-- RETURNS : THE MASKING INDICATOR ID
DROP FUNCTION IF EXISTS CRT_PSN_MSK_IND
(
DECIMAL,
DECIMAL,
VARCHAR
) 
;

-- @FUNCTION
-- OBSOLETE A PERSON MASK
DROP FUNCTION IF EXISTS OBSLT_PSN_MSK_IND
(
DECIMAL,
DECIMAL
) 
;

-- @FUNCTION
-- GET MASKING INDICATOR
DROP FUNCTION IF EXISTS GET_PSN_MSK_IND
(
DECIMAL
)  
;

-- @FUNCTION
-- CREATE AN EXTENSION OBJECT 
DROP FUNCTION IF EXISTS CRT_EXT
(
VARCHAR,
VARCHAR,
BYTEA,
VARCHAR,
VARCHAR
) 
;

-- @FUNCTION
-- GET AN EXTENSION 
DROP FUNCTION IF EXISTS GET_EXT
(
DECIMAL
) 
;

-- @FUNCTION
-- CREATE A DEVICE
DROP FUNCTION IF EXISTS CRT_DEV
(
VARCHAR,
VARCHAR,
TEXT,
TEXT
) 
;

-- @FUNCTION
-- GET A DEVICE
DROP FUNCTION IF EXISTS GET_DEV
(
DECIMAL
) 
;

-- @FUNCTION
-- FIND ALL COMPONENTS
DROP FUNCTION IF EXISTS ADM_FIND_CNTRS_WITH_CMP_ROLE
(
DECIMAL
) 
;